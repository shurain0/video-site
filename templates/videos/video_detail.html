{% extends 'base.html' %}
{% load static %}

{% block page_title %}{{object.title}}{% endblock  %}

{% block content %}
<div class="ui stackable grid">
  <div class="eleven wide computer sixteen wide tablet column"> {# 動画側のカラム #}
    <div class="ui container">
            <div class="ui embed" data-source="youtube" data-id="{{object.video_id}}"></div>
            <div class="ui header">{{object.title}}</div>
            <div class="ui divider"></div>
            <div>{{object.description|linebreaksbr |urlize}}</div>
    </div>
  </div>
  <div class="five wide computer sixteen wide tablet column"> {# 再生リスト側のカラム #}
    <h2 class="header">{{object.course.title}}</h2>
    <div class="ui devided items">
    {% for course_video in object.course.videos.all %}
      {% if course_video.id == object.id %}
        <a class="ui inverted grey segment item row">
      {% else %}
        <a class="ui item row" href="{% url 'detail' course_video.id %}">
      {% endif %}
            <div class="ui small image column">
              <img src="{{course_video.thumbnail_url}}">
            </div>
            <div class="ui content column">
            {{course_video.title}}
            </div>
        </a>
    {% endfor %}
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
$('.ui.embed').embed();
</script>
{% endblock extra_js %}